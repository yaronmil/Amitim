{"version":3,"file":null,"sources":["utils/global.js","media-query/media-query-factory.js","utils/auto-prefixer.js","media-query/break-points.js","media-query/media-queries.js","media-query/media-query-module.js","flexbox/media-query/media-query-changes.js","flexbox/media-query/media-query-activation.js","flexbox/media-query/media-query-adapter.js","flexbox/api/abstract.js","flexbox/api/layout.js","flexbox/api/flex.js","flexbox/api/show-hide.js","flexbox/flexbox-module.js"],"sourcesContent":["export function isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexport function delay(fn, duration, scope) {\n    if (duration === void 0) { duration = 1; }\n    if (scope === void 0) { scope = null; }\n    if (scope)\n        fn = fn.bind(scope);\n    setTimeout(function () { return fn(); }, duration);\n}\n\n//# sourceMappingURL=global.js.map\n","import { isDefined } from '../utils/global';\n// ****************************************************************\n// ****************************************************************\n/**\n * Private global registry for all dynamically-created, injected style tags\n * @see prepare(query)\n */\nvar ALL_STYLES = {};\n/**\n * Factory class used to quickly create a mq listener for a specified mediaQuery range\n * No need to implement polyfill\n */\nexport var MediaQueryListFactory = (function () {\n    function MediaQueryListFactory() {\n    }\n    /**\n     * Return a MediaQueryList for the specified media query\n     * Publish a mockMQL if needed\n     */\n    MediaQueryListFactory.instanceOf = function (query) {\n        var canListen = isDefined(window.matchMedia('all').addListener);\n        prepare(query);\n        return canListen ? window.matchMedia(query) : {\n            matches: query === 'all' || query === '',\n            media: query,\n            addListener: function () { },\n            removeListener: function () { }\n        };\n    };\n    return MediaQueryListFactory;\n}());\n/**\n * For Webkit engines that only trigger the MediaQueryListListener\n * when there is at least one CSS selector for the respective media query.\n *\n * @param query string The mediaQuery used to create a faux CSS selector\n *\n */\nfunction prepare(query) {\n    if (!ALL_STYLES[query]) {\n        try {\n            var style = document.createElement('style');\n            style.setAttribute('type', 'text/css');\n            if (!style['styleSheet']) {\n                var cssText = \"@media \" + query + \" {.ngl-query-test{ }}\";\n                style.appendChild(document.createTextNode(cssText));\n            }\n            document.getElementsByTagName('head')[0].appendChild(style);\n            // Store in private global registry\n            ALL_STYLES[query] = style;\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n}\n\n//# sourceMappingURL=media-query-factory.js.map\n","/**\n * Auto Prefixes applies CSS prefixes to appropriate style keys\n * Eliminates the need for external auto-prefixer\n */\nexport function applyCssPrefixes(target) {\n    for (var key in target) {\n        var value = target[key];\n        switch (key) {\n            case 'display':\n                target['display'] = value;\n                break;\n            case 'flex':\n                target['-ms-flex'] = value;\n                target['-webkit-flex'] = value;\n                break;\n            case 'flex-direction':\n                target['-ms-flex-direction'] = value;\n                target['-webkit-flex-direction'] = value;\n                break;\n            case 'flex-wrap':\n                target['-ms-flex-wrap'] = value;\n                target['-webkit-flex-wrap'] = value;\n                break;\n            case 'order':\n                target['-webkit-order'] = value;\n                target['-ms-flex-order'] = value;\n                break;\n            case 'justify-content':\n                target['-ms-flex-pack'] = value;\n                target['-webkit-justify-content'] = value;\n                break;\n            case 'align-items':\n                target['-ms-flex-align'] = value;\n                target['-webkit-align-items'] = value;\n                target['-webkit-box-align'] = toBoxAlign(value);\n                break;\n        }\n    }\n    return target;\n}\nfunction toBoxAlign(value) {\n    return (value == 'flex-start)') ? 'start' : (value == 'flex-end)') ? 'end' : value;\n}\n\n//# sourceMappingURL=auto-prefixer.js.map\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable } from '@angular/core';\n/**\n * Registry of 1..n MediaQuery breakpoint ranges\n * This is published as a provider and may be overriden from custom, application-specific ranges\n *\n */\nexport var BreakPoints = (function () {\n    /**\n     *\n     */\n    function BreakPoints() {\n        this.registry = [\n            { alias: '', suffix: '', overlapping: true, mediaQuery: 'screen' },\n            { alias: 'xs', suffix: 'Xs', overlapping: false, mediaQuery: 'screen and (max-width: 599px)' },\n            {\n                alias: 'gt-xs',\n                suffix: 'GtXs',\n                overlapping: true,\n                mediaQuery: 'screen and (min-width: 600px)'\n            },\n            {\n                alias: 'sm',\n                suffix: 'Sm',\n                overlapping: false,\n                mediaQuery: 'screen and (min-width: 600px) and (max-width: 959px)'\n            },\n            {\n                alias: 'gt-sm',\n                suffix: 'GtSm',\n                overlapping: true,\n                mediaQuery: 'screen and (min-width: 960px)'\n            },\n            {\n                alias: 'md',\n                suffix: 'Md',\n                overlapping: false,\n                mediaQuery: 'screen and (min-width: 960px) and (max-width: 1279px)'\n            },\n            {\n                alias: 'gt-md',\n                suffix: 'GtMd',\n                overlapping: true,\n                mediaQuery: 'screen and (min-width: 1280px)'\n            },\n            {\n                alias: 'lg',\n                suffix: 'Lg',\n                overlapping: false,\n                mediaQuery: 'screen and (min-width: 1280px) and (max-width: 1919px)'\n            },\n            {\n                alias: 'gt-lg',\n                suffix: 'GtLg',\n                overlapping: true,\n                mediaQuery: 'screen and (min-width: 1920px)'\n            },\n            {\n                alias: 'xl',\n                suffix: 'Xl',\n                overlapping: false,\n                mediaQuery: 'screen and (min-width: 1920px)'\n            }\n        ];\n    }\n    /**\n     *\n     */\n    BreakPoints.prototype.findBreakpointBy = function (alias) {\n        for (var _i = 0, _a = this.registry; _i < _a.length; _i++) {\n            var bp = _a[_i];\n            if (bp.alias == alias) {\n                return bp;\n            }\n        }\n        return null;\n    };\n    Object.defineProperty(BreakPoints.prototype, \"overlappings\", {\n        /**\n         * Get all the breakpoints whose ranges could overlapping `normal` ranges;\n         * e.g. gt-sm overlaps md, lg, and xl\n         */\n        get: function () {\n            return this.registry.filter(function (it) { return it.overlapping == true; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BreakPoints.prototype, \"aliases\", {\n        /**\n         * Get list of all registered (non-empty) breakpoint aliases\n         */\n        get: function () {\n            return this.registry.map(function (it) { return it.alias; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BreakPoints.prototype, \"suffixes\", {\n        /**\n         *\n         */\n        get: function () {\n            return this.registry.map(function (it) { return it.suffix; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BreakPoints = __decorate([\n        Injectable(), \n        __metadata('design:paramtypes', [])\n    ], BreakPoints);\n    return BreakPoints;\n}());\n\n//# sourceMappingURL=break-points.js.map\n","// RxJS Operators used by the classes...\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/map';\nimport { Injectable, NgZone } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { isDefined } from '../utils/global';\nimport { BreakPoints } from './break-points';\nimport { MediaQueryListFactory } from './media-query-factory';\n// ****************************************************************\n// Exported Types and Interfaces\n// ****************************************************************\n/**\n * Class instances emitted [to observers] for each mql notification\n */\nexport var MediaQueryChange = (function () {\n    function MediaQueryChange(matches, // Is the mq currently activated\n        mqAlias, // e.g.   gt-sm, md, gt-lg\n        suffix, // e.g.   GtSM, Md, GtLg\n        value // @Input value associated for the current mq\n        ) {\n        if (suffix === void 0) { suffix = ''; }\n        if (value === void 0) { value = ''; }\n        this.matches = matches;\n        this.mqAlias = mqAlias;\n        this.suffix = suffix;\n        this.value = value;\n    }\n    return MediaQueryChange;\n}());\n// ****************************************************************\n// ****************************************************************\nexport var MediaQueries = (function () {\n    /**\n     * Constructor\n     */\n    function MediaQueries(breakpoints, _zone) {\n        this._zone = _zone;\n        this._mqls = {};\n        this._breakpoints = breakpoints;\n        this._source = new BehaviorSubject(new MediaQueryChange(true, ''));\n        this._announcer = this._source.asObservable();\n        this.prepareWatchers(breakpoints.registry);\n    }\n    Object.defineProperty(MediaQueries.prototype, \"breakpoints\", {\n        /**\n         * Read-only accessor to the list of breakpoints configured in the BreakPoints provider\n         */\n        get: function () {\n            return this._breakpoints.registry.slice();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MediaQueries.prototype, \"activeOverlaps\", {\n        get: function () {\n            var _this = this;\n            var items = this._breakpoints.overlappings.reverse();\n            return items.filter(function (bp) {\n                return _this._mqls[bp.mediaQuery].matches;\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MediaQueries.prototype, \"active\", {\n        get: function () {\n            var _this = this;\n            var found = null, items = this.breakpoints.reverse();\n            items.forEach(function (bp) {\n                if (bp.alias !== '') {\n                    var mql = _this._mqls[bp.mediaQuery];\n                    if (mql.matches && !found)\n                        found = bp;\n                }\n            });\n            var first = this.breakpoints[0];\n            return found || (this._mqls[first.mediaQuery].matches ? first : null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * For the specified mediaQuery alias, is the mediaQuery range active?\n     */\n    MediaQueries.prototype.isActive = function (alias) {\n        var bp = this._breakpoints.findBreakpointBy(alias);\n        if (bp) {\n            var mql = this._mqls[bp.mediaQuery];\n            if (mql.matches)\n                return true;\n        }\n        return false;\n    };\n    /**\n     * External observers can watch for all (or a specific) mql changes.\n     * Typically used by the MediaQueryAdaptor; optionally available to components\n     * use the MediaQueries as $mdMedia service\n     */\n    MediaQueries.prototype.observe = function (alias) {\n        return this._announcer.filter(function (e) {\n            return !isDefined(alias) ? (e.matches === true) : (e.mqAlias === alias);\n        });\n    };\n    /**\n     * Based on the BreakPoints provider, register internal listeners for the specified ranges\n     */\n    MediaQueries.prototype.prepareWatchers = function (ranges) {\n        var _this = this;\n        ranges.forEach(function (it) {\n            var mql = _this._mqls[it.mediaQuery];\n            if (!mql) {\n                mql = MediaQueryListFactory.instanceOf((it.mediaQuery));\n                // Each listener uses a shared eventHandler: which emits specific data to observers\n                // Cache this permanent listener\n                mql.addListener(_this.onMQLEvent.bind(_this, it));\n                _this._mqls[it.mediaQuery] = mql;\n                if (mql.matches) {\n                    // Announce activate range for initial subscribers\n                    _this.onMQLEvent(it, mql);\n                }\n            }\n        });\n    };\n    /**\n     * On each mlq event, emit a special MediaQueryChange to all subscribers\n     */\n    MediaQueries.prototype.onMQLEvent = function (breakpoint, mql) {\n        var _this = this;\n        // Execute within ng2 zone from change detection, etc.\n        this._zone.run(function () {\n            console.log(\"mq[ \" + breakpoint.alias + \" ]: active = \" + mql.matches + \" \");\n            _this._source.next(new MediaQueryChange(mql.matches, breakpoint.alias, breakpoint.suffix));\n        });\n    };\n    MediaQueries = __decorate([\n        Injectable(), \n        __metadata('design:paramtypes', [BreakPoints, NgZone])\n    ], MediaQueries);\n    return MediaQueries;\n}());\n\n//# sourceMappingURL=media-queries.js.map\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { NgModule } from '@angular/core';\nimport { BreakPoints } from './break-points';\nimport { MediaQueries } from './media-queries';\nvar ALL_COMPONENTS = [BreakPoints, MediaQueries];\n/**\n * *****************************************************************\n * Define module for the MediaQuery API\n * *****************************************************************\n */\nexport var MediaQueriesModule = (function () {\n    function MediaQueriesModule() {\n    }\n    MediaQueriesModule.forRoot = function () {\n        return {\n            ngModule: MediaQueriesModule,\n            providers: [\n                BreakPoints,\n                MediaQueries\n            ]\n        };\n    };\n    MediaQueriesModule = __decorate([\n        NgModule({ providers: [BreakPoints, MediaQueries] }), \n        __metadata('design:paramtypes', [])\n    ], MediaQueriesModule);\n    return MediaQueriesModule;\n}());\n\n//# sourceMappingURL=media-query-module.js.map\n","// ****************************************************************\n// Exported Types and Interfaces\n// ****************************************************************\n/**\n * MQ Notification data emitted to external observers\n *\n */\nexport var MediaQueryChanges = (function () {\n    function MediaQueryChanges(previous, current) {\n        this.previous = previous;\n        this.current = current;\n    }\n    return MediaQueryChanges;\n}());\n\n//# sourceMappingURL=media-query-changes.js.map\n","import { isDefined } from '../../utils/global';\nimport { MediaQueryChanges } from './media-query-changes';\nvar ON_DESTROY = 'ngOnDestroy';\nvar ON_MEDIA_CHANGES = 'onMediaQueryChanges';\n/**\n *\n */\nexport var MediaQueryActivation = (function () {\n    /**\n     *\n     */\n    function MediaQueryActivation(_mq, _directive, _baseKey, _defaultValue) {\n        this._mq = _mq;\n        this._directive = _directive;\n        this._baseKey = _baseKey;\n        this._defaultValue = _defaultValue;\n        this._interceptLifeCyclEvents();\n    }\n    Object.defineProperty(MediaQueryActivation.prototype, \"activatedInputKey\", {\n        get: function () {\n            var _this = this;\n            var items = this._mq.activeOverlaps;\n            items.forEach(function (bp) {\n                if (!isDefined(_this._activatedInputKey)) {\n                    var key = _this._baseKey + bp.suffix;\n                    if (isDefined(_this._directive[key])) {\n                        _this._activatedInputKey = key;\n                    }\n                }\n            });\n            return this._activatedInputKey || this._baseKey;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MediaQueryActivation.prototype, \"activatedInput\", {\n        /**\n         * Get the currently activated @Input value or the fallback default @Input value\n         */\n        get: function () {\n            return this._directive[this.activatedInputKey] || this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * MediaQueryChanges interceptor that tracks the current mq-activated @Input and calculates the\n     * mq-activated input value or the default value\n     */\n    MediaQueryActivation.prototype.onMediaQueryChanges = function (changes) {\n        var currentKey = (this._baseKey + changes.current.suffix);\n        // !! change events may arrive out-of-order (activate before deactivate)\n        //    so make sure the deactivate is used ONLY when the keys match\n        //    (since a different activate may be in use)\n        this._activatedInputKey = changes.current.matches ?\n            currentKey :\n            (this._activatedInputKey !== currentKey) ? this._activatedInputKey : undefined;\n        var current = changes.current;\n        current.value = this.activatedInput; // calculated value\n        changes = new MediaQueryChanges(changes.previous, current);\n        this._logMediaQueryChanges(changes);\n        this._onMediaQueryChanges(changes);\n    };\n    /**\n     * Remove interceptors, restore original functions, and forward the onDestroy() call\n     */\n    MediaQueryActivation.prototype.ngOnDestroy = function () {\n        this._directive[ON_DESTROY] = this._onDestroy || this._directive[ON_DESTROY];\n        this._directive[ON_MEDIA_CHANGES] = this._onMediaQueryChanges;\n        try {\n            this._onDestroy();\n        }\n        finally {\n            this._directive = undefined;\n            this._onDestroy = undefined;\n            this._onMediaQueryChanges = undefined;\n        }\n    };\n    /**\n     * Head-hook onDestroy and onMediaQueryChanges methods on the directive instance\n     */\n    MediaQueryActivation.prototype._interceptLifeCyclEvents = function () {\n        if (this._directive[ON_DESTROY]) {\n            this._onDestroy = this._directive[ON_DESTROY].bind(this._directive);\n            this._directive[ON_DESTROY] = this.ngOnDestroy.bind(this);\n        }\n        this._onMediaQueryChanges = this._directive[ON_MEDIA_CHANGES].bind(this._directive);\n        this._directive[ON_MEDIA_CHANGES] = this.onMediaQueryChanges.bind(this);\n    };\n    /**\n     */\n    MediaQueryActivation.prototype._logMediaQueryChanges = function (changes) {\n        var current = changes.current, previous = changes.previous;\n        if (current && current.mqAlias == '')\n            current.mqAlias = 'all';\n        if (previous && previous.mqAlias == '')\n            previous.mqAlias = 'all';\n        if (current.matches) {\n            console.log(\"mqChange: \" + this._baseKey + \".\" + current.mqAlias + \" = \" + changes.current.value + \";\");\n        }\n    };\n    return MediaQueryActivation;\n}());\n\n//# sourceMappingURL=media-query-activation.js.map\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Injectable, NgZone } from '@angular/core';\nimport { BreakPoints } from '../../media-query/break-points';\nimport { MediaQueries } from '../../media-query/media-queries';\nimport { isDefined } from '../../utils/global';\nimport { MediaQueryActivation } from './media-query-activation';\nimport { MediaQueryChanges } from './media-query-changes';\nvar ON_DESTROY = 'ngOnDestroy';\nvar ON_MEDIA_CHANGES = 'onMediaQueryChanges';\n/**\n *  Adapter between Layout API directives and the MediaQueries mdl service\n *\n *  Using this adapter encapsulates most of the complexity of mql subscriptions\n *  and insures lean integration-code in the Layout directives\n *\n */\nexport var MediaQueryAdapter = (function () {\n    /**\n     *\n     */\n    function MediaQueryAdapter(_breakpoints, zone) {\n        this._breakpoints = _breakpoints;\n        this._mq = new MediaQueries(_breakpoints, zone);\n    }\n    /**\n     * Create a custom MQ Activation instance for each directive instance; the activation object\n     * tracks the current mq-activated input and manages the calls to the directive's\n     * `onMediaQueryChanges( )`\n     */\n    MediaQueryAdapter.prototype.attach = function (directive, property, defaultVal) {\n        var activation = new MediaQueryActivation(this._mq, directive, property, defaultVal);\n        var list = this._linkOnMediaChanges(directive, property);\n        this._listenOnDestroy(directive, list);\n        return activation;\n    };\n    /**\n     *\n     */\n    MediaQueryAdapter.prototype._linkOnMediaChanges = function (directive, property) {\n        var list = [], handler = directive[ON_MEDIA_CHANGES];\n        if (handler) {\n            var keys = this._buildRegistryMap(directive, property);\n            list = this._configureChangeObservers(directive, keys, handler);\n        }\n        return list;\n    };\n    /**\n     *\n     */\n    MediaQueryAdapter.prototype._listenOnDestroy = function (directive, subscribers) {\n        var onDestroyFn = directive[ON_DESTROY];\n        if (onDestroyFn) {\n            directive[ON_DESTROY] = function () {\n                // Unsubscribe all for this directive\n                subscribers.forEach(function (s) {\n                    s.unsubscribe();\n                });\n                onDestroyFn();\n                // release array and restore original fn\n                subscribers.length = 0;\n                directive[ON_DESTROY] = onDestroyFn;\n            };\n        }\n    };\n    /**\n     * Build mediaQuery key-hashmap; only for the directive properties that are actually defined\n     */\n    MediaQueryAdapter.prototype._buildRegistryMap = function (directive, key) {\n        return this._breakpoints.registry\n            .map(function (it) {\n            return {\n                alias: it.alias,\n                key: key + it.suffix // e.g.  layoutGtSm, layoutMd, layoutGtLg\n            };\n        })\n            .filter(function (it) { return isDefined(directive[it.key]); });\n    };\n    /**\n     * For each API property, register a callback to `onMediaQueryChanges( )`(e:MediaQueryEvent)\n     * Cache 1..n subscriptions for internal auto-unsubscribes during the directive ngOnDestory()\n     * notification\n     */\n    MediaQueryAdapter.prototype._configureChangeObservers = function (directive, keys, subscriber) {\n        var _this = this;\n        var subscriptions = [];\n        keys.forEach(function (it) {\n            // Only subscribe if the directive API is defined (in use)\n            if (isDefined(directive[it.key])) {\n                var lastEvent_1, mergeWithLastEvent = function (current) {\n                    var previous = lastEvent_1;\n                    if (_this._isDifferentChange(previous, current))\n                        lastEvent_1 = current;\n                    return new MediaQueryChanges(previous, current);\n                }, \n                // Create subscription for mq changes for each alias (e.g. gt-sm, md, etc)\n                subscription = _this._mq.observe(it.alias).map(mergeWithLastEvent).subscribe(subscriber);\n                subscriptions.push(subscription);\n            }\n        });\n        return subscriptions;\n    };\n    /**\n     * Is the current activation event different from the last activation event ?\n     *\n     * !! change events may arrive out-of-order (activate before deactivate)\n     *    so make sure the deactivate is used ONLY when the keys match\n     *    (since a different activate may be in use)\n     *\n     */\n    MediaQueryAdapter.prototype._isDifferentChange = function (previous, current) {\n        var prevAlias = (previous ? previous.mqAlias : '');\n        return current.matches || (!current.matches && current.mqAlias !== prevAlias);\n    };\n    MediaQueryAdapter = __decorate([\n        Injectable(), \n        __metadata('design:paramtypes', [BreakPoints, NgZone])\n    ], MediaQueryAdapter);\n    return MediaQueryAdapter;\n}());\n\n//# sourceMappingURL=media-query-adapter.js.map\n","import { applyCssPrefixes } from '../../utils/auto-prefixer';\n/**\n * Abstract base class for the Layout API styling directives\n */\nexport var BaseStyleDirective = (function () {\n    function BaseStyleDirective(_elRef, _renderer) {\n        this._elRef = _elRef;\n        this._renderer = _renderer;\n    }\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * Inject inline the flexbox styles specific to this renderer/domEl pair\n     */\n    BaseStyleDirective.prototype._updateStyle = function (source, value) {\n        var styles = {}, domEl = this._elRef.nativeElement;\n        if (typeof source === 'string') {\n            styles[source] = value;\n            source = styles;\n        }\n        styles = applyCssPrefixes(source);\n        // Iterate all properties in hashMap and set styles\n        for (var key in styles) {\n            this._renderer.setElementStyle(domEl, key, styles[key]);\n        }\n    };\n    return BaseStyleDirective;\n}());\n\n//# sourceMappingURL=abstract.js.map\n","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, ElementRef, Input, Optional, Renderer } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { isDefined } from '../../utils/global';\nimport { MediaQueryAdapter } from '../media-query/media-query-adapter';\nimport { BaseStyleDirective } from './abstract';\n/**\n * 'layout' flexbox styling directive\n * Defines the positioning flow direction for the child elements: row or column\n * Optional values: column or row (default)\n * @see https://css-tricks.com/almanac/properties/f/flex-direction/\n *\n */\nexport var LayoutDirective = (function (_super) {\n    __extends(LayoutDirective, _super);\n    /**\n     *\n     */\n    function LayoutDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n        /**\n         * Create Observable for nested/child 'flex' directives. This allows\n         * child flex directives to subscribe/listen for flexbox direction changes.\n         */\n        this._layout = new BehaviorSubject(this.layout);\n        /**\n         * Publish observer to enabled nested, dependent directives to listen\n         * to parent \"layout\" direction changes\n         */\n        this.onLayoutChange = this._layout.asObservable();\n        /**\n         * Default layout property with default direction value\n         */\n        this.layout = 'row';\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * On changes to any @Input properties...\n     * Default to use the non-responsive Input value ('fx-layout')\n     * Then conditionally override with the mq-activated Input's current value\n     */\n    LayoutDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['layout']) || activationChange) {\n            this._updateWithDirection();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    LayoutDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'layout', 'row');\n        this._updateWithDirection();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    LayoutDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithDirection(changes.current.value);\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * Validate the direction value and then update the host's inline flexbox styles\n     *\n     * @todo - update all child containers to have \"box-sizing: border-box\"\n     *         This way any padding or border specified on the child elements are\n     *         laid out and drawn inside that element's specified width and height.\n     *\n     */\n    LayoutDirective.prototype._updateWithDirection = function (direction) {\n        direction = direction || this.layout || 'row';\n        if (isDefined(this._mqActivation)) {\n            direction = this._mqActivation.activatedInput;\n        }\n        direction = this._validateValue(direction);\n        // Update styles and announce to subscribers the *new* direction\n        this._updateStyle(this._buildCSS(direction));\n        this._layout.next(direction);\n    };\n    /**\n     * Build the CSS that should be assigned to the element instance\n     * BUG:\n     *\n     *   1) min-height on a column flex container won’t apply to its flex item children in IE 10-11.\n     *      Use height instead if possible; height : <xxx>vh;\n     */\n    LayoutDirective.prototype._buildCSS = function (value) {\n        return { 'display': 'flex', 'box-sizing': 'border-box', 'flex-direction': value };\n    };\n    /**\n     * Validate the value to be one of the acceptable value options\n     * Use default fallback of \"row\"\n     */\n    LayoutDirective.prototype._validateValue = function (value) {\n        value = value ? value.toLowerCase() : '';\n        return LAYOUT_VALUES.find(function (x) { return x === value; }) ? value : LAYOUT_VALUES[0]; // \"row\"\n    };\n    __decorate([\n        Input('fx-layout'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layout\", void 0);\n    __decorate([\n        Input('fx-layout.xs'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutXs\", void 0);\n    __decorate([\n        Input('fx-layout.gt-xs'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutGtXs\", void 0);\n    __decorate([\n        Input('fx-layout.sm'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutSm\", void 0);\n    __decorate([\n        Input('fx-layout.gt-sm'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutGtSm\", void 0);\n    __decorate([\n        Input('fx-layout.md'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutMd\", void 0);\n    __decorate([\n        Input('fx-layout.gt-md'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutGtMd\", void 0);\n    __decorate([\n        Input('fx-layout.lg'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutLg\", void 0);\n    __decorate([\n        Input('fx-layout.gt-lg'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutGtLg\", void 0);\n    __decorate([\n        Input('fx-layout.xl'), \n        __metadata('design:type', Object)\n    ], LayoutDirective.prototype, \"layoutXl\", void 0);\n    LayoutDirective = __decorate([\n        Directive({ selector: '[fx-layout], [fx-layout.md]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], LayoutDirective);\n    return LayoutDirective;\n}(BaseStyleDirective));\n/**\n * 'layout-wrap' flexbox styling directive\n * Defines wrapping of child elements in layout container\n * Optional values: reverse, wrap-reverse, none, nowrap, wrap (default)]\n * @see https://css-tricks.com/almanac/properties/f/flex-wrap/\n */\nexport var LayoutWrapDirective = (function (_super) {\n    __extends(LayoutWrapDirective, _super);\n    function LayoutWrapDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n        this.wrap = 'wrap';\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    LayoutWrapDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['wrap']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    LayoutWrapDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'wrap', 'wrap');\n        this._updateWithValue();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    LayoutWrapDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithValue(changes.current.value);\n    };\n    LayoutWrapDirective.prototype.ngOnDestroy = function () { };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    LayoutWrapDirective.prototype._updateWithValue = function (value) {\n        value = value || this.wrap || 'wrap';\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        value = this._validateValue(value);\n        this._updateStyle(this._buildCSS(value));\n    };\n    /**\n     * Build the CSS that should be assigned to the element instance\n     */\n    LayoutWrapDirective.prototype._buildCSS = function (value) {\n        return { 'flex-wrap': value, '-webkit-flex-wrap': value };\n    };\n    /**\n     * Convert layout-wrap=\"<value>\" to expected flex-wrap style\n     */\n    LayoutWrapDirective.prototype._validateValue = function (value) {\n        switch (value.toLowerCase()) {\n            case 'reverse':\n            case 'wrap-reverse':\n                value = 'wrap-reverse';\n                break;\n            case 'no':\n            case 'none':\n            case 'nowrap':\n                value = 'nowrap';\n                break;\n            // All other values fallback to \"wrap\"\n            default:\n                value = 'wrap';\n                break;\n        }\n        return value;\n    };\n    __decorate([\n        Input('fx-layout-wrap'), \n        __metadata('design:type', String)\n    ], LayoutWrapDirective.prototype, \"wrap\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.xs'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapXs\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.gt-xs'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapGtXs\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.sm'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapSm\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.gt-sm'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapGtSm\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.md'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapMd\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.gt-md'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapGtMd\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.lg'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapLg\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.gt-lg'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapGtLg\", void 0);\n    __decorate([\n        Input('fx-layout-wrap.xl'), \n        __metadata('design:type', Object)\n    ], LayoutWrapDirective.prototype, \"wrapXl\", void 0);\n    LayoutWrapDirective = __decorate([\n        Directive({ selector: '[fx-layout-wrap]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], LayoutWrapDirective);\n    return LayoutWrapDirective;\n}(BaseStyleDirective));\n/**\n * 'layout-align' flexbox styling directive\n *  Defines positioning of child elements along main and cross axis in a layout container\n *  Optional values: {main-axis} values or {main-axis cross-axis} value pairs\n *\n *  @see https://css-tricks.com/almanac/properties/j/justify-content/\n *  @see https://css-tricks.com/almanac/properties/a/align-items/\n *  @see https://css-tricks.com/almanac/properties/a/align-content/\n */\nexport var LayoutAlignDirective = (function (_super) {\n    __extends(LayoutAlignDirective, _super);\n    function LayoutAlignDirective(container, _mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this.container = container;\n        this._mqa = _mqa;\n        this._layout = 'row'; // default flex-direction\n        this.align = 'start stretch';\n        if (container) {\n            this._layoutWatcher = container.onLayoutChange.subscribe(this._onLayoutChange.bind(this));\n        }\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    LayoutAlignDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['align']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    LayoutAlignDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'align', 'start stretch');\n        this._updateWithValue();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    LayoutAlignDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithValue(changes.current.value);\n    };\n    LayoutAlignDirective.prototype.ngOnDestroy = function () {\n        this._layoutWatcher.unsubscribe();\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     *\n     */\n    LayoutAlignDirective.prototype._updateWithValue = function (value) {\n        value = value || this.align || 'start stretch';\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        this._updateStyle(this._buildCSS(value));\n    };\n    /**\n     * Cache the parent container 'flex-direction' and update the 'flex' styles\n     */\n    LayoutAlignDirective.prototype._onLayoutChange = function (direction) {\n        var _this = this;\n        this._layout = (direction || '').toLowerCase().replace('-reverse', '');\n        if (!LAYOUT_VALUES.find(function (x) { return x === _this._layout; }))\n            this._layout = 'row';\n        var value = this.align || 'start stretch';\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        this._allowStretching(value, this._layout);\n    };\n    LayoutAlignDirective.prototype._buildCSS = function (align) {\n        var css = {}, _a = align.split(' '), main_axis = _a[0], cross_axis = _a[1];\n        css['justify-content'] = 'flex-start'; // default\n        css['align-items'] = 'stretch'; // default\n        css['align-content'] = 'stretch'; // default\n        // Main axis\n        switch (main_axis) {\n            case 'center':\n                css['justify-content'] = 'center';\n                break;\n            case 'space-around':\n                css['justify-content'] = 'space-around';\n                break;\n            case 'space-between':\n                css['justify-content'] = 'space-between';\n                break;\n            case 'end':\n                css['justify-content'] = 'flex-end';\n                break;\n        }\n        // Cross-axis\n        switch (cross_axis) {\n            case 'start':\n                css['align-items'] = css['align-content'] = 'flex-start';\n                break;\n            case 'baseline':\n                css['align-items'] = 'baseline';\n                break;\n            case 'center':\n                css['align-items'] = css['align-content'] = 'center';\n                break;\n            case 'end':\n                css['align-items'] = css['align-content'] = 'flex-end';\n                break;\n        }\n        return css;\n    };\n    /**\n     * Update container element to 'stretch' as needed...\n     */\n    LayoutAlignDirective.prototype._allowStretching = function (align, layout) {\n        var _a = align.split(' '), cross_axis = _a[1];\n        if (cross_axis == 'stretch') {\n            // Use `null` values to remove style\n            this._updateStyle({\n                'box-sizing': 'border-box',\n                'max-width': (layout === 'column') ? '100%' : null,\n                'max-height': (layout === 'row') ? '100%' : null\n            });\n        }\n    };\n    __decorate([\n        Input('fx-layout-align'), \n        __metadata('design:type', String)\n    ], LayoutAlignDirective.prototype, \"align\", void 0);\n    __decorate([\n        Input('fx-layout-align.xs'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignXs\", void 0);\n    __decorate([\n        Input('fx-layout-align.gt-xs'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignGtXs\", void 0);\n    __decorate([\n        Input('fx-layout-align.sm'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignSm\", void 0);\n    __decorate([\n        Input('fx-layout-align.gt-sm'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignGtSm\", void 0);\n    __decorate([\n        Input('fx-layout-align.md'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignMd\", void 0);\n    __decorate([\n        Input('fx-layout-align.gt-md'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignGtMd\", void 0);\n    __decorate([\n        Input('fx-layout-align.lg'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignLg\", void 0);\n    __decorate([\n        Input('fx-layout-align.gt-lg'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignGtLg\", void 0);\n    __decorate([\n        Input('fx-layout-align.xl'), \n        __metadata('design:type', Object)\n    ], LayoutAlignDirective.prototype, \"alignXl\", void 0);\n    LayoutAlignDirective = __decorate([\n        Directive({ selector: '[fx-layout-align]' }),\n        __param(0, Optional()), \n        __metadata('design:paramtypes', [LayoutDirective, MediaQueryAdapter, ElementRef, Renderer])\n    ], LayoutAlignDirective);\n    return LayoutAlignDirective;\n}(BaseStyleDirective));\n// ************************************************************\n// Private static variables\n// ************************************************************\nvar LAYOUT_VALUES = ['row', 'column', 'row-reverse', 'column-reverse'];\nvar ROW = LAYOUT_VALUES[0], COLUMN = LAYOUT_VALUES[1], ROW_REVERSE = LAYOUT_VALUES[2], COLUMN_REVERSE = LAYOUT_VALUES[3];\n\n//# sourceMappingURL=layout.js.map\n","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Directive, ElementRef, Input, Optional, Renderer, SkipSelf } from '@angular/core';\nimport { isDefined } from '../../utils/global';\nimport { MediaQueryAdapter } from '../media-query/media-query-adapter';\nimport { BaseStyleDirective } from './abstract';\nimport { LayoutDirective, LayoutWrapDirective } from './layout';\n/**\n * FlexBox styling directive for 'fx-flex'\n * Configures the width/height sizing of the element within a layout container\n * @see https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n */\nexport var FlexDirective = (function (_super) {\n    __extends(FlexDirective, _super);\n    /**\n     * Note: the optional `layout=\"column|row\"` directive must be PARENT container.\n     *\n     * <div layout=\"row\">\n     *    <div flex=\"25%\" layout=\"column\">\n     *      ...\n     *    </div>\n     * </div>\n     */\n    function FlexDirective(_mqa, _container, _wrap, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n        this._container = _container;\n        this._wrap = _wrap;\n        this._layout = 'row'; // default flex-direction\n        this.flex = '';\n        this.shrink = 1;\n        this.grow = 1;\n        if (_container) {\n            this._layoutWatcher =\n                _container\n                    .onLayoutChange // Subscribe to layout immediate parent direction changes\n                    .subscribe(this._onLayoutChange.bind(this));\n        }\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * For @Input changes on the current mq activation property, delegate to the onLayoutChange()\n     */\n    FlexDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['flex']) || activationChange) {\n            this._onLayoutChange(this._layout);\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    FlexDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'flex', '');\n        this._onLayoutChange();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    FlexDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithValue(changes.current.value);\n    };\n    FlexDirective.prototype.ngOnDestroy = function () {\n        if (this._layoutWatcher) {\n            this._layoutWatcher.unsubscribe();\n        }\n    };\n    // *********************************************\n    // Protected methods\n    // ***************************************s******\n    /**\n     * Cache the parent container 'flex-direction' and update the 'fx-flex' styles\n     */\n    FlexDirective.prototype._onLayoutChange = function (direction) {\n        this._layout = direction || this._layout;\n        var value = this.flex || '';\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        this._updateWithValue(value);\n    };\n    FlexDirective.prototype._updateWithValue = function (value) {\n        this._updateStyle(this._validateValue(this.grow, this.shrink, value));\n    };\n    /**\n     * Validate the value to be one of the acceptable value options\n     * Use default fallback of \"row\"\n     */\n    FlexDirective.prototype._validateValue = function (grow, shrink, basis) {\n        var css, direction = (this._layout === 'column') || (this._layout == 'column-reverse') ?\n            'column' :\n            'row';\n        /*\n         * flex-basis allows you to specify the initial/starting main-axis size of the element,\n         * before anything else is computed. It can either be a percentage or an absolute value.\n         * It is, however, not the breaking point for flex-grow/shrink properties\n         *\n         * flex-grow can be seen as this:\n         *   0: Do not stretch. Either size to element's content width, or obey 'flex-basis'.\n         *   1: (Default value). Stretch; will be the same size to all other flex items on\n         *       the same row since they have a default value of 1.\n         *   ≥2 (integer n): Stretch. Will be n times the size of other elements\n         *      with 'flex-grow: 1' on the same row.\n         *\n         */\n        var clearStyles = {\n            'max-width': null,\n            'max-height': null,\n            'min-width': null,\n            'min-height': null\n        };\n        switch (basis || '') {\n            case '':\n                css = Object.assign(clearStyles, { 'flex': '1' });\n                break;\n            case GROW:\n                css = Object.assign(clearStyles, { 'flex': '1 1 100%' });\n                break;\n            case INITIAL:\n                css = Object.assign(clearStyles, { 'flex': '0 1 auto' });\n                break; // default\n            case AUTO:\n                css = Object.assign(clearStyles, { 'flex': '1 1 auto' });\n                break;\n            case NONE:\n                css = Object.assign(clearStyles, { 'flex': '0 0 auto' });\n                break;\n            case NO_GROW:\n                css = Object.assign(clearStyles, { 'flex': '0 1 auto' });\n                break;\n            case NO_SHRINK:\n                css = Object.assign(clearStyles, { 'flex': '1 0 auto' });\n                break;\n            default:\n                var isPercent = String(basis).indexOf('%') > -1;\n                var isPx = String(basis).indexOf('px') > -1;\n                // Defaults to percentage sizing unless `px` is explicitly set\n                if (!isPx && !isPercent && !isNaN(basis))\n                    basis = basis + '%';\n                if (basis === '0px')\n                    basis = '0%';\n                // Set max-width = basis if using layout-wrap\n                // @see https://github.com/philipwalton/flexbugs#11-min-and-max-size-declarations-are-ignored-when-wrappifl-flex-items\n                css = Object.assign(clearStyles, {\n                    'flex': grow + \" \" + shrink + \" \" + ((isPx || this._wrap) ? basis : '100%'),\n                });\n                break;\n        }\n        var max = (direction === 'row') ? 'max-width' : 'max-height';\n        var min = (direction === 'row') ? 'min-width' : 'min-height';\n        css[min] = (basis == '0%') ? 0 : null;\n        css[max] = (basis == '0%') ? 0 : basis;\n        return Object.assign(css, { 'box-sizing': 'border-box' });\n    };\n    __decorate([\n        Input('fx-flex'), \n        __metadata('design:type', String)\n    ], FlexDirective.prototype, \"flex\", void 0);\n    __decorate([\n        Input('fx-shrink'), \n        __metadata('design:type', Number)\n    ], FlexDirective.prototype, \"shrink\", void 0);\n    __decorate([\n        Input('fx-grow'), \n        __metadata('design:type', Number)\n    ], FlexDirective.prototype, \"grow\", void 0);\n    __decorate([\n        Input('fx-flex.xs'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexXs\", void 0);\n    __decorate([\n        Input('fx-flex.gt-xs'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexGtXs\", void 0);\n    __decorate([\n        Input('fx-flex.sm'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexSm\", void 0);\n    __decorate([\n        Input('fx-flex.gt-sm'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexGtSm\", void 0);\n    __decorate([\n        Input('fx-flex.md'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexMd\", void 0);\n    __decorate([\n        Input('fx-flex.gt-md'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexGtMd\", void 0);\n    __decorate([\n        Input('fx-flex.lg'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexLg\", void 0);\n    __decorate([\n        Input('fx-flex.gt-lg'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexGtLg\", void 0);\n    __decorate([\n        Input('fx-flex.xl'), \n        __metadata('design:type', Object)\n    ], FlexDirective.prototype, \"flexXl\", void 0);\n    FlexDirective = __decorate([\n        Directive({\n            selector: '[fx-flex]',\n        }),\n        __param(1, Optional()),\n        __param(1, SkipSelf()),\n        __param(2, Optional()),\n        __param(2, SkipSelf()), \n        __metadata('design:paramtypes', [MediaQueryAdapter, LayoutDirective, LayoutWrapDirective, ElementRef, Renderer])\n    ], FlexDirective);\n    return FlexDirective;\n}(BaseStyleDirective));\n/**\n * 'flex-order' flexbox styling directive\n * Configures the positional ordering of the element in a sorted layout container\n * @see https://css-tricks.com/almanac/properties/o/order/\n */\nexport var FlexOrderDirective = (function (_super) {\n    __extends(FlexOrderDirective, _super);\n    function FlexOrderDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * For @Input changes on the current mq activation property, delegate to the onLayoutChange()\n     */\n    FlexOrderDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['order']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    FlexOrderDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'order', '1');\n        this._updateWithValue();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    FlexOrderDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithValue(changes.current.value);\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    FlexOrderDirective.prototype._updateWithValue = function (value) {\n        value = value || this.order || '1';\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        this._updateStyle(this._buildCSS(value));\n    };\n    FlexOrderDirective.prototype._buildCSS = function (value) {\n        value = parseInt(value, 10);\n        return { order: isNaN(value) ? 0 : value };\n    };\n    __decorate([\n        Input('fx-flex-order'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"order\", void 0);\n    __decorate([\n        Input('fx-flex-order.xs'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderXs\", void 0);\n    __decorate([\n        Input('fx-flex-order.gt-xs'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderGtXs\", void 0);\n    __decorate([\n        Input('fx-flex-order.sm'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderSm\", void 0);\n    __decorate([\n        Input('fx-flex-order.gt-sm'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderGtSm\", void 0);\n    __decorate([\n        Input('fx-flex-order.md'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderMd\", void 0);\n    __decorate([\n        Input('fx-flex-order.gt-md'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderGtMd\", void 0);\n    __decorate([\n        Input('fx-flex-order.lg'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderLg\", void 0);\n    __decorate([\n        Input('fx-flex-order.gt-lg'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderGtLg\", void 0);\n    __decorate([\n        Input('fx-flex-order.xl'), \n        __metadata('design:type', Object)\n    ], FlexOrderDirective.prototype, \"orderXl\", void 0);\n    FlexOrderDirective = __decorate([\n        Directive({ selector: '[fx-flex-order]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], FlexOrderDirective);\n    return FlexOrderDirective;\n}(BaseStyleDirective));\n/**\n * 'flex-offset' flexbox styling directive\n * Configures the 'margin-left' of the element in a layout container\n */\nexport var FlexOffsetDirective = (function (_super) {\n    __extends(FlexOffsetDirective, _super);\n    function FlexOffsetDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * For @Input changes on the current mq activation property, delegate to the onLayoutChange()\n     */\n    FlexOffsetDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['offset']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    FlexOffsetDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'offset', 0);\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    FlexOffsetDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithValue(changes.current.value);\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    FlexOffsetDirective.prototype._updateWithValue = function (value) {\n        value = value || this.offset || 0;\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        this._updateStyle(this._buildCSS(value));\n    };\n    FlexOffsetDirective.prototype._buildCSS = function (offset) {\n        var isPercent = String(offset).indexOf('%') > -1;\n        var isPx = String(offset).indexOf('px') > -1;\n        if (!isPx && !isPercent && !isNaN(offset))\n            offset = offset + '%';\n        return { 'margin-left': \"\" + offset };\n    };\n    __decorate([\n        Input('fx-flex-offset'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offset\", void 0);\n    __decorate([\n        Input('fx-flex-offset.xs'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetXs\", void 0);\n    __decorate([\n        Input('fx-flex-offset.gt-xs'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetGtXs\", void 0);\n    __decorate([\n        Input('fx-flex-offset.sm'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetSm\", void 0);\n    __decorate([\n        Input('fx-flex-offset.gt-sm'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetGtSm\", void 0);\n    __decorate([\n        Input('fx-flex-offset.md'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetMd\", void 0);\n    __decorate([\n        Input('fx-flex-offset.gt-md'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetGtMd\", void 0);\n    __decorate([\n        Input('fx-flex-offset.lg'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetLg\", void 0);\n    __decorate([\n        Input('fx-flex-offset.gt-lg'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetGtLg\", void 0);\n    __decorate([\n        Input('fx-flex-offset.xl'), \n        __metadata('design:type', Object)\n    ], FlexOffsetDirective.prototype, \"offsetXl\", void 0);\n    FlexOffsetDirective = __decorate([\n        Directive({ selector: '[fx-flex-offset]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], FlexOffsetDirective);\n    return FlexOffsetDirective;\n}(BaseStyleDirective));\n/**\n * 'flex-align' flexbox styling directive\n * Allows element-specific overrides for cross-axis alignments in a layout container\n * @see https://css-tricks.com/almanac/properties/a/align-self/\n */\nexport var FlexAlignDirective = (function (_super) {\n    __extends(FlexAlignDirective, _super);\n    function FlexAlignDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n        this.align = 'stretch'; // default\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * For @Input changes on the current mq activation property, delegate to the onLayoutChange()\n     */\n    FlexAlignDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['align']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    FlexAlignDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'align', 'stretch');\n        this._updateWithValue();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    FlexAlignDirective.prototype.onMediaQueryChanges = function (changes) {\n        this._updateWithValue(changes.current.value);\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    FlexAlignDirective.prototype._updateWithValue = function (value) {\n        value = value || this.align || 'stretch';\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        this._updateStyle(this._buildCSS(value));\n    };\n    FlexAlignDirective.prototype._buildCSS = function (align) {\n        var css = {};\n        // Cross-axis\n        switch (align) {\n            case 'start':\n                css['align-self'] = 'flex-start';\n                break;\n            case 'baseline':\n                css['align-self'] = 'baseline';\n                break;\n            case 'center':\n                css['align-self'] = 'center';\n                break;\n            case 'end':\n                css['align-self'] = 'flex-end';\n                break;\n            default:\n                css['align-self'] = 'stretch';\n                break; // default\n        }\n        return css;\n    };\n    __decorate([\n        Input('fx-flex-align'), \n        __metadata('design:type', String)\n    ], FlexAlignDirective.prototype, \"align\", void 0);\n    __decorate([\n        // default\n        Input('fx-flex-align.xs'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignXs\", void 0);\n    __decorate([\n        Input('fx-flex-align.gt-xs'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignGtXs\", void 0);\n    __decorate([\n        Input('fx-flex-align.sm'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignSm\", void 0);\n    __decorate([\n        Input('fx-flex-align.gt-sm'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignGtSm\", void 0);\n    __decorate([\n        Input('fx-flex-align.md'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignMd\", void 0);\n    __decorate([\n        Input('fx-flex-align.gt-md'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignGtMd\", void 0);\n    __decorate([\n        Input('fx-flex-align.lg'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignLg\", void 0);\n    __decorate([\n        Input('fx-flex-align.gt-lg'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignGtLg\", void 0);\n    __decorate([\n        Input('fx-flex-align.xl'), \n        __metadata('design:type', Object)\n    ], FlexAlignDirective.prototype, \"alignXl\", void 0);\n    FlexAlignDirective = __decorate([\n        Directive({ selector: '[fx-flex-align]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], FlexAlignDirective);\n    return FlexAlignDirective;\n}(BaseStyleDirective));\n/**\n * 'fx-flex-fill' flexbox styling directive\n *  Maximizes width and height of element in a layout container\n *\n *  NOTE: [fx-flexFill] is NOT responsive fx-flex\n */\nexport var FlexFillDirective = (function (_super) {\n    __extends(FlexFillDirective, _super);\n    function FlexFillDirective(elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this.elRef = elRef;\n        this.renderer = renderer;\n        this._updateStyle(this._buildCSS());\n    }\n    FlexFillDirective.prototype._buildCSS = function () {\n        return {\n            'margin': 0,\n            'width': '100%',\n            'height': '100%',\n            'min-width': '100%',\n            'min-height': '100%'\n        };\n    };\n    FlexFillDirective = __decorate([\n        Directive({ selector: '[fx-flex-fill]' }), \n        __metadata('design:paramtypes', [ElementRef, Renderer])\n    ], FlexFillDirective);\n    return FlexFillDirective;\n}(BaseStyleDirective));\n// ************************************************************\n// Private static variables\n// ************************************************************\nvar GROW = 'grow';\nvar INITIAL = 'initial';\nvar AUTO = 'auto';\nvar NONE = 'none';\nvar NO_GROW = 'nogrow';\nvar NO_SHRINK = 'noshrink';\n\n//# sourceMappingURL=flex.js.map\n","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport { Directive, ElementRef, Input, Renderer } from '@angular/core';\nimport { delay, isDefined } from '../../utils/global';\nimport { MediaQueryAdapter } from '../media-query/media-query-adapter';\nimport { BaseStyleDirective } from './abstract';\nvar FALSY = ['false', '0', false, 0];\n/**\n * 'show' Layout API directive\n *\n */\nexport var ShowDirective = (function (_super) {\n    __extends(ShowDirective, _super);\n    /**\n     *\n     */\n    function ShowDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n        this.elRef = elRef;\n        this.renderer = renderer;\n        /**\n         * Original dom Elements CSS display style\n         */\n        this._display = 'flex';\n        /**\n         * Default layout property with default visible === true\n         */\n        this.show = true;\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * On changes to any @Input properties...\n     * Default to use the non-responsive Input value ('fx-show')\n     * Then conditionally override with the mq-activated Input's current value\n     */\n    ShowDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['show']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    ShowDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'show', 'true');\n        this._updateWithValue();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    ShowDirective.prototype.onMediaQueryChanges = function (changes) {\n        var _this = this;\n        delay(function () {\n            _this._updateWithValue(changes.current.value);\n        });\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * Validate the visibility value and then update the host's inline display style\n     */\n    ShowDirective.prototype._updateWithValue = function (value) {\n        value = value || this.show || true;\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n        }\n        value = this._validateValue(value);\n        // Update styles and announce to subscribers the *new* direction\n        this._updateStyle(this._buildCSS(value));\n    };\n    /**\n     * Build the CSS that should be assigned to the element instance\n     */\n    ShowDirective.prototype._buildCSS = function (isFalsy) {\n        return { 'display': !isFalsy ? this._display : 'none' };\n    };\n    /**\n     * Validate the value to be not FALSY\n     */\n    ShowDirective.prototype._validateValue = function (value) {\n        return isDefined(FALSY.find(function (x) { return x === value; }));\n    };\n    __decorate([\n        Input('fx-show'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"show\", void 0);\n    __decorate([\n        Input('fx-show.xs'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showXs\", void 0);\n    __decorate([\n        Input('fx-show.gt-xs'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showGtXs\", void 0);\n    __decorate([\n        Input('fx-show.sm'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showSm\", void 0);\n    __decorate([\n        Input('fx-show.gt-sm'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showGtSm\", void 0);\n    __decorate([\n        Input('fx-show.md'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showMd\", void 0);\n    __decorate([\n        Input('fx-show.gt-md'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showGtMd\", void 0);\n    __decorate([\n        Input('fx-show.lg'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showLg\", void 0);\n    __decorate([\n        Input('fx-show.gt-lg'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showGtLg\", void 0);\n    __decorate([\n        Input('fx-show.xl'), \n        __metadata('design:type', Object)\n    ], ShowDirective.prototype, \"showXl\", void 0);\n    ShowDirective = __decorate([\n        Directive({ selector: '[fx-show]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], ShowDirective);\n    return ShowDirective;\n}(BaseStyleDirective));\n/**\n * 'show' Layout API directive\n *\n */\nexport var HideDirective = (function (_super) {\n    __extends(HideDirective, _super);\n    /**\n     *\n     */\n    function HideDirective(_mqa, elRef, renderer) {\n        _super.call(this, elRef, renderer);\n        this._mqa = _mqa;\n        this.elRef = elRef;\n        this.renderer = renderer;\n        /**\n         * Original dom Elements CSS display style\n         */\n        this._display = 'flex';\n        /**\n         * Default layout property with default visible === true\n         */\n        this.hide = true;\n    }\n    // *********************************************\n    // Lifecycle Methods\n    // *********************************************\n    /**\n     * On changes to any @Input properties...\n     * Default to use the non-responsive Input value ('fx-hide')\n     * Then conditionally override with the mq-activated Input's current value\n     */\n    HideDirective.prototype.ngOnChanges = function (changes) {\n        var activated = this._mqActivation;\n        var activationChange = activated && isDefined(changes[activated.activatedInputKey]);\n        if (isDefined(changes['hide']) || activationChange) {\n            this._updateWithValue();\n        }\n    };\n    /**\n     * After the initial onChanges, build an mqActivation object that bridges\n     * mql change events to onMediaQueryChange handlers\n     */\n    HideDirective.prototype.ngOnInit = function () {\n        this._mqActivation = this._mqa.attach(this, 'hide', 'true');\n        this._updateWithValue();\n    };\n    /**\n     *  Special mql callback used by MediaQueryActivation when a mql event occurs\n     */\n    HideDirective.prototype.onMediaQueryChanges = function (changes) {\n        var _this = this;\n        delay(function () {\n            _this._updateWithValue(changes.current.value);\n        });\n    };\n    // *********************************************\n    // Protected methods\n    // *********************************************\n    /**\n     * Validate the visibility value and then update the host's inline display style\n     */\n    HideDirective.prototype._updateWithValue = function (value) {\n        var key = '';\n        value = value || this.hide || true;\n        if (isDefined(this._mqActivation)) {\n            value = this._mqActivation.activatedInput;\n            key = this._mqActivation.activatedInputKey;\n        }\n        value = this._validateValue(value);\n        // Update styles and announce to subscribers the *new* direction\n        this._updateStyle(this._buildCSS(value));\n    };\n    /**\n     * Build the CSS that should be assigned to the element instance\n     */\n    HideDirective.prototype._buildCSS = function (value) {\n        return { 'display': value ? 'none' : this._display };\n    };\n    /**\n     * Validate the value to be FALSY\n     */\n    HideDirective.prototype._validateValue = function (value) {\n        // console.log(`HideDirective::_validateValue( ${value} )`);\n        return !isDefined(FALSY.find(function (x) { return x === value; }));\n    };\n    __decorate([\n        Input('fx-hide'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hide\", void 0);\n    __decorate([\n        Input('fx-hide.xs'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideXs\", void 0);\n    __decorate([\n        Input('fx-hide.gt-xs'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideGtXs\", void 0);\n    __decorate([\n        Input('fx-hide.sm'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideSm\", void 0);\n    __decorate([\n        Input('fx-hide.gt-sm'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideGtSm\", void 0);\n    __decorate([\n        Input('fx-hide.md'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideMd\", void 0);\n    __decorate([\n        Input('fx-hide.gt-md'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideGtMd\", void 0);\n    __decorate([\n        Input('fx-hide.lg'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideLg\", void 0);\n    __decorate([\n        Input('fx-hide.gt-lg'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideGtLg\", void 0);\n    __decorate([\n        Input('fx-hide.xl'), \n        __metadata('design:type', Object)\n    ], HideDirective.prototype, \"hideXl\", void 0);\n    HideDirective = __decorate([\n        Directive({ selector: '[fx-hide]' }), \n        __metadata('design:paramtypes', [MediaQueryAdapter, ElementRef, Renderer])\n    ], HideDirective);\n    return HideDirective;\n}(BaseStyleDirective));\n\n//# sourceMappingURL=show-hide.js.map\n","// RxJS Operators used by the classes...\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/operator/map';\nimport { NgModule } from '@angular/core';\nimport { MediaQueriesModule } from '../media-query/media-query-module';\nimport { FlexAlignDirective, FlexDirective, FlexFillDirective, FlexOffsetDirective, FlexOrderDirective } from './api/flex';\nimport { LayoutAlignDirective, LayoutDirective, LayoutWrapDirective } from './api/layout';\nimport { HideDirective, ShowDirective } from './api/show-hide';\nimport { MediaQueryAdapter } from './media-query/media-query-adapter';\nvar ALL_DIRECTIVES = [\n    LayoutDirective, LayoutWrapDirective, LayoutAlignDirective, FlexDirective, FlexOrderDirective,\n    FlexOffsetDirective, FlexFillDirective, FlexAlignDirective, ShowDirective, HideDirective\n];\n/**\n *\n */\nexport var FlexLayoutModule = (function () {\n    function FlexLayoutModule() {\n    }\n    FlexLayoutModule.forRoot = function () {\n        return { ngModule: FlexLayoutModule, providers: [MediaQueryAdapter] };\n    };\n    FlexLayoutModule = __decorate([\n        NgModule({\n            declarations: ALL_DIRECTIVES,\n            imports: [MediaQueriesModule],\n            exports: [MediaQueriesModule].concat(ALL_DIRECTIVES),\n            providers: []\n        }), \n        __metadata('design:paramtypes', [])\n    ], FlexLayoutModule);\n    return FlexLayoutModule;\n}());\n\n//# sourceMappingURL=flexbox-module.js.map\n"],"names":["isDefined","value","delay","fn","duration","scope","bind","setTimeout","prepare","query","ALL_STYLES","style","document","createElement","setAttribute","cssText","appendChild","createTextNode","getElementsByTagName","e","console","error","applyCssPrefixes","target","key","toBoxAlign","__decorate","this","decorators","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","BreakPoints","registry","alias","suffix","overlapping","mediaQuery","prototype","findBreakpointBy","_i","_a","bp","get","filter","it","enumerable","configurable","map","Injectable","MediaQueryListFactory","instanceOf","canListen","window","matchMedia","addListener","matches","media","removeListener","MediaQueryChange","mqAlias","MediaQueries","breakpoints","_zone","_mqls","_breakpoints","_source","BehaviorSubject","_announcer","asObservable","prepareWatchers","slice","_this","items","overlappings","reverse","found","forEach","mql","first","isActive","observe","ranges","onMQLEvent","breakpoint","run","log","next","NgZone","MediaQueriesModule","forRoot","ngModule","providers","NgModule","MediaQueryChanges","previous","current","ON_DESTROY","ON_MEDIA_CHANGES","MediaQueryActivation","_mq","_directive","_baseKey","_defaultValue","_interceptLifeCyclEvents","activeOverlaps","_activatedInputKey","activatedInputKey","onMediaQueryChanges","changes","currentKey","undefined","activatedInput","_logMediaQueryChanges","_onMediaQueryChanges","ngOnDestroy","_onDestroy","MediaQueryAdapter","zone","attach","directive","property","defaultVal","activation","list","_linkOnMediaChanges","_listenOnDestroy","handler","keys","_buildRegistryMap","_configureChangeObservers","subscribers","onDestroyFn","s","unsubscribe","subscriber","subscriptions","lastEvent_1","mergeWithLastEvent","_isDifferentChange","subscription","subscribe","push","prevAlias","BaseStyleDirective","_elRef","_renderer","_updateStyle","source","styles","domEl","nativeElement","setElementStyle","__extends","b","__","constructor","p","hasOwnProperty","create","__param","paramIndex","decorator","LayoutDirective","_super","_mqa","elRef","renderer","call","_layout","layout","onLayoutChange","ngOnChanges","activated","_mqActivation","activationChange","_updateWithDirection","ngOnInit","direction","_validateValue","_buildCSS","display","box-sizing","flex-direction","toLowerCase","LAYOUT_VALUES","find","x","Input","Directive","selector","ElementRef","Renderer","LayoutWrapDirective","wrap","_updateWithValue","flex-wrap","-webkit-flex-wrap","String","LayoutAlignDirective","container","align","_layoutWatcher","_onLayoutChange","replace","_allowStretching","css","split","main_axis","cross_axis","max-width","max-height","Optional","FlexDirective","_container","_wrap","flex","shrink","grow","basis","clearStyles","min-width","min-height","assign","GROW","INITIAL","AUTO","NONE","NO_GROW","NO_SHRINK","isPercent","indexOf","isPx","isNaN","max","min","Number","SkipSelf","FlexOrderDirective","order","parseInt","FlexOffsetDirective","offset","margin-left","FlexAlignDirective","FlexFillDirective","margin","width","height","FALSY","ShowDirective","_display","show","isFalsy","HideDirective","hide","ALL_DIRECTIVES","FlexLayoutModule","declarations","imports","exports","concat"],"mappings":"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"}